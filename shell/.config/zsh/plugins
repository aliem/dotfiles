#!/bin/zsh

declare -A ZINIT
ZINIT[HOME_DIR]=$HOME/.cache/zinit

if [[ ! -d $ZINIT[HOME_DIR]/bin ]]; then
    git clone https://github.com/zdharma/zinit $ZINIT[HOME_DIR]/bin
fi
source ~/.cache/zinit/bin/zinit.zsh

zinit wait lucid light-mode for \
    atinit"zicompinit; zicdreplay" \
        zdharma/fast-syntax-highlighting \
    blockf atpull'zinit creinstall -q .' \
        zsh-users/zsh-completions


# skywind3000/z.lua

zinit for \
                zdharma/history-search-multi-word \
                rupa/z \
                zsh-users/zsh-completions \
                zpm-zsh/autoenv \
      atinit"zicompinit; zicdreplay" \
                zpm-zsh/ls \
                zpm-zsh/helpers \
                mdumitru/fancy-ctrl-z \
                eendroroy/alien-minimal


# zplugin pack"default+keys" for fzf

zinit as"null" wait"3" lucid for \
    Fakerr/git-recall \
    paulirish/git-open \
    paulirish/git-recent \
    davidosomething/git-my \
    unixorn/git-extra-commands \
    make"PREFIX=$ZPFX install"  iwata/git-now \
    make"PREFIX=$ZPFX"          tj/git-extras


if [ -d $HOME/.nix-profile/share/zsh/site-fuctions ]; then
    fpath=($HOME/.nix-profile/share/zsh/site-fuctions $fpath)
fi

autoload -Uz _zinit
(( ${+_comps}  )) && _comps[zinit]=_zinit
autoload -Uz compinit && compinit

zinit cdreplay -q
